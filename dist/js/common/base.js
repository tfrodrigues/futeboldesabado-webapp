var $=require("jquery"),ko=require("knockout"),utils=require("./utils"),external=this;exports.isAdmin=function(){return"admin"==external.inputValue("path")},exports.findAll=function(r,e,n,t,u){$.ajax({url:"/"+r+"/find"+external.queryString(n)}).done(function(r){t&&r.forEach(function(r){t(r)}),ko.utils.arrayPushAll(e,r),u&&u()})},exports.queryString=function(r){return utils.removeInvalidAttributes(r),$.isEmptyObject(r)?"":"?".concat($.param(r))},exports.inputValue=function(r){return $("input[name="+r+"]").val()},exports.currentQuery=function(){return JSON.parse(external.inputValue("query"))},exports.getBackgroundUrl=function(r){return r?"url("+r+")":"none"},exports.addBackgroundImage=function(r,e){var n=r[e];$.isArray(n)&&(n=n.length?n[0]:""),r.backgroundImage=external.getBackgroundUrl(n)},exports.ViewModel=function(){};